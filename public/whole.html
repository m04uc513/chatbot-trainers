<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>Whole Story</title>
  <!-- from main.css of cr-vue/codes/turorial-todo -->
  <!--<link rel="stylesheet" href="./main.css">-->
  <style type="text/css">
* {
  box-sizing: border-box;
}
#app {
  max-width: 640px;
  margin: 0 auto;
}
table {
  width: 100%;
  border-collapse: collapse;
}
thead th {
  border-bottom: 2px solid #0099e4; /*#d31c4a */
  color: #0099e4;
}
th,
th {
  padding: 0 8px;
  line-height: 40px;
}
thead th.id {
  width: 50px;
}
thead th.state {
  width: 100px;
}
thead th.button {
  width: 60px;
}
tbody td.button, tbody td.state {
  text-align: center;
}
tbody tr td,
tbody tr th {
  border-bottom: 1px solid #ccc;
  transition: all 0.4s;
}
tbody tr.done td,
tbody tr.done th {
  background: #f8f8f8;
  color: #bbb;
}
tbody tr:hover td,
tbody tr:hover th {
  background: #f4fbff;
}
button {
  border: none;
  border-radius: 20px;
  line-height: 24px;
  padding: 0 8px;
  background: #0099e4;
  color: #fff;
  cursor: pointer;
}
  </style>
</head>
<!-- from main.js of cr-vue/codes/turorial-todo -->
<!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
<script src="https://cdn.jsdelivr.net/vue/latest/vue.min.js"></script>
<script src="/nGrimm021.js"></script>
<body>
  <div id="app">
    <H2>{{ story[0].title }}</H2>
    <H4>トレーナー：{{ trainer }}</H4>
    <p>{{ rules.length }}</p>
    <br>
    <H3>　１．{{ story[1].subtitle }}</H3>
    <p>{{ story[1].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[1].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[1].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[1].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[1].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[1].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[1].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[1].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[1].nca }}</li>
    </ul>
    <br>

    <H3>　２．{{ story[2].subtitle }}</H3>
    <p>{{ story[2].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[2].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[2].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[2].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[2].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[2].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[2].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[2].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[2].nca }}</li>
    </ul>
    <br>

    <H3>　３．{{ story[3].subtitle }}</H3>
    <p>{{ story[3].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[3].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[3].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[3].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[3].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[3].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[3].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[3].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[3].nca }}</li>
    </ul>
    <br>

    <H3>　４．{{ story[4].subtitle }}</H3>
    <p>{{ story[4].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[4].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[4].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[4].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[4].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[4].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[4].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[4].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[4].nca }}</li>
    </ul>
    <br>

    <H3>　５．{{ story[5].subtitle }}</H3>
    <p>{{ story[5].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[5].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[5].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[5].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[5].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[5].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[5].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[5].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[5].nca }}</li>
    </ul>
    <br>

    <H3>　６．{{ story[6].subtitle }}</H3>
    <p>{{ story[6].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[6].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[6].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[6].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[6].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[6].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[6].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[6].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[6].nca }}</li>
    </ul>
    <br>

    <H3>　７．{{ story[7].subtitle }}</H3>
    <p>{{ story[7].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[7].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[7].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[7].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[7].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[7].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[7].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[7].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[7].nca }}</li>
    </ul>
    <br>

    <H3>　８．{{ story[8].subtitle }}</H3>
    <p>{{ story[8].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[8].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[8].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[8].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[8].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[8].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[8].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[8].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[8].nca }}</li>
    </ul>
    <br>

    <H3>　９．{{ story[9].subtitle }}</H3>
    <p>{{ story[9].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[9].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[9].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[9].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[9].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[9].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[9].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[9].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[9].nca }}</li>
    </ul>
    <br>

    <H3>１０．{{ story[10].subtitle }}</H3>
    <p>{{ story[10].paragraph }}</p>

    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[10].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[10].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[10].qap[0].a }}</li>
        </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[10].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[10].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[10].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[10].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[10].nca }}</li>
    </ul>
    <br>

    <H3>１１．{{ story[11].subtitle }}</H3>
    <p>{{ story[11].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[11].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[11].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[11].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[11].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[11].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[11].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[11].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[11].nca }}</li>
    </ul>
    <br>

    <H3>１２．{{ story[12].subtitle }}</H3>
    <p>{{ story[12].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[12].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[12].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[12].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[12].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[12].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[12].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[12].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[12].nca }}</li>
    </ul>
    <br>

    <H3>１３．{{ story[13].subtitle }}</H3>
    <p>{{ story[13].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[13].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[13].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[13].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[13].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[13].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[13].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[13].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[13].nca }}</li>
    </ul>
    <br>

    <H3>１４．{{ story[14].subtitle }}</H3>
    <p>{{ story[14].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[14].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[14].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[14].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[14].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[14].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[14].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[14].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[14].nca }}</li>
    </ul>

    <H3>１５．{{ story[15].subtitle }}</H3>
    <p>{{ story[15].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[15].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[15].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[15].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[15].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[15].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[15].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[15].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[15].nca }}</li>
      </ul>
    <br>

    <H3>１６．{{ story[16].subtitle }}</H3>
    <p>{{ story[16].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[16].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[16].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[16].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[16].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[16].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[16].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[16].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[16].nca }}</li>
    </ul>
    <br>

    <H3>１７．{{ story[17].subtitle }}</H3>
    <p>{{ story[17].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[17].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[17].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[17].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[17].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[17].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[17].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[17].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[17].nca }}</li>
    </ul>
    <br>

    <H3>１８．{{ story[18].subtitle }}</H3>
    <p>{{ story[18].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[18].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[18].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[18].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[18].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[18].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[18].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[18].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[18].nca }}</li>
    </ul>
    <br>

    <H3>１９．{{ story[19].subtitle }}</H3>
    <p>{{ story[19].paragraph }}</p>
    <ul>
      <li><b>MSG:</b>&nbsp;{{ rules[19].msg }}</li>
      <li><b>QAP0</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[19].qap[0].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[19].qap[0].a }}</li>
          </ul>
      </li>
      <li><b>QAP1</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[19].qap[1].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[19].qap[1].a }}</li>
        </ul>
      </li>
      <li><b>QAP2</b>
        <ul>
          <li><b>Q:</b>&nbsp;{{ rules[19].qap[2].q }}</li>
          <li><b>A:</b>&nbsp;{{ rules[19].qap[2].a }}</li>
        </ul>
      </li>
      <li><b>NCA:</b>&nbsp;{{ rules[19].nca }}</li>
    </ul>
    <br>

  </div>
</body>
<script>
  var app = new Vue({
    el: '#app',
    data: {
      trainer: localStorage.getItem('trainer'),
      story: Grimm021,
      rules: ''
    },
    async mounted() {
        var args = { key: localStorage.getItem('trainer') };
        var res = await this.fetchScript(args);
        console.log(JSON.stringify(res, null, 2));
        if (res.message == 'success') {
          this.rules = JSON.parse(res.response);
        }
      },
    methods: {
      fetchScript: async function(data) {
        const res = await fetch("/get", {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        });
        const response = await res.json();
        return(response);
      }
    }
  });
</script>
</html>